<!-- <label for="category">Select Category:</label>
<select id="category" [(ngModel)]="selectValue" >
  <option value="0">All Categories</option>
  <option value="1">Dining Tables</option>
  <option value="2">Chairs</option>
  <option value="3">TV Units</option>
</select>
@if (!showImgFlag) {
  <img
    [src]="store.logo" width="100px"/>
}

  <button (click)="toggleImg()" class="btn btn-primary mt-3">Buy</button>


@if (showImgFlag) {
  <div class="alert alert-success mt-3">
    Thanks for click  our Store, {{ clientName }}!
  </div>
}

<div class="row">
  @for (product of filteredList; track product.id) {
    <div class="col-4 mb-5">
      <img [src]="product.PrdimgURL" class="img-fluid">
      <h5  [ngStyle]="{'background-color': product.quantity === 1 ?'yellow':'transparent'}">{{product.name}}</h5>
    <h5>{{product.price}}</h5>
    <h6>{{product.quantity}}</h6>
    <button class="btn btn-primary" [disabled]="product.quantity==0">Add to cart<i class="fa-sharp fa-solid fa-cart-plus modifyIcon"></i></button>
    <button class="btn btn-primary ms-4" [disabled]="product.quantity === 0" (click)="buyProduct(product)">Buy<i class="fa-sharp fa-solid fa-cart-plus modifyIcon"></i></button>

    @switch (product.quantity) {
      @case (0) {
     Out of stock
      }
      @case (1) {
      last one product
      }
      @case (2) {
      last two product
      }
      @default {
      In Stock
      }
      }


    </div>





  }


  </div>
 -->


 <!-- <div class="mb-4">
  <label for="search">Filter By Price:</label>
  <input id="search" name="search" type="text" class="form-control" [(ngModel)]="filterPrice">


</div> -->
 <!-- <div class="m-4">
  <input type="text" [(ngModel)]="creditCardNumber" class="form-control" placeholder="Enter card number">
  <p>Credit Card Number: {{ creditCardNumber | customPipe }}</p>
</div> -->

  <!-- <label for="category" class="form-label">Select Category:</label>
  <select id="category" class="form-select" [(ngModel)]="selectValue">
    <option value="0">All Categories</option>
    <option value="1">Dining Tables</option>
    <option value="2">Chairs</option>
    <option value="3">TV Units</option>
  </select> -->


<!--
  @if (!showImgFlag) {
    <div class="text-center mt-3">
      <img [src]="store.logo" width="100px" class="img-fluid"/>
    </div>
  }
<div class="text-center">
  <button (click)="toggleImg()" class="btn btn-primary mt-3">click</button>

</div>

  @if (showImgFlag) {
    <div class="alert alert-success mt-3">
      Thanks for clicking our store, {{ clientName }}!
    </div>
  } -->
  <div class="container mt-4">
  <div class="row mt-4">
    @for (product of filteredList; track product.id) {
      <div class="col-md-4 mb-4 " >

        <div class="card"[ngStyle]="{'background-color': product.quantity === 1 ? '#ffffe0' : 'transparent'}" style="width: 18rem;"  appDirectiveCard border2="10px">


          <img [src]="product.PrdimgURL" class="card-img-top img-fluid" alt="{{ product.name }}"   (click)="getDetails(product.id)" >
          <div class="card-body">
            <h5 class="card-title">
              {{ product.name }}
            </h5>

            <p class="card-text">Price: {{ product.price |currency:'USD' }}</p>
            <!-- <p>Added to cart: {{ cartCounter[product.id] || 0 }}</p> -->
            <!-- <p >Purchased on: {{ product.purchaseDate | date: 'fullDate' }}</p> -->

            <button class="btn btn-custom" [disabled]="product.quantity == 0"  (click)="addtocart(product)">Add to Cart
              <i class="fa fa-cart-plus"></i>
            </button>
            <button class="btn btn-success ms-2" [disabled]="product.quantity === 0" (click)="buyProduct(product)">
              Buy <i class="fa fa-shopping-cart"></i>
            </button>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">Stock Status:</li>
            @switch (product.quantity) {
              @case (0) {
                <li class="list-group-item text-danger">Out of stock</li>
              }
              @case (1) {
                <li class="list-group-item text-warning">Last one available</li>
              }
              @case (2) {
                <li class="list-group-item text-warning">Last two available</li>
              }
              @default {
                <li class="list-group-item text-success">In stock</li>
              }
            }
          </ul>

        </div>
      </div>
    }
  </div>
</div>





